cmake_minimum_required(VERSION 3.10)
project(core VERSION 0.0)
add_executable(game src/coordinator.c src/io/init_state_setter.c src/io/interpolation_t.c src/io/set_grid_props_and_dt.c src/io/write_output.c src/spatial_operators/cross_product.c src/spatial_operators/div.c src/spatial_operators/kinetic_energy.c src/spatial_operators/curl.c src/spatial_operators/determine_tendency.c src/spatial_operators/grad.c src/spatial_operators/linear_combine_two_states.c src/spatial_operators/scalar_times_vector.c src/spatial_operators/scalar_times_scalar.c src/spatial_operators/scalar_times_vector_h_v.c src/spatial_operators/dissipation.c src/time_stepping/runge_kutta_fourth_order.c src/time_stepping/runge_kutta_third_order.c src/time_stepping/time_stepping.h src/diagnostics/density_diagnostics.c src/diagnostics/spec_heat_cap_diagnostics.c src/diagnostics/gas_constant_diagnostics.c src/diagnostics/calc_numerical_diffusion_coeffs.c src/diagnostics/global_scalar_integral.c src/diagnostics/temperature_diagnostics.c src/diagnostics/exner_pressure_diagnostics.c src/diagnostics/pot_temp_diagnostics.c src/diagnostics/ricci.c src/diagnostics/recover_components/recov_hor_par_dual.c src/diagnostics/recover_components/recov_hor_par_pri.c src/diagnostics/recover_components/recov_hor_ver_dual.c src/diagnostics/recover_components/recov_hor_ver_pri.c src/diagnostics/recover_components/recov_ver_0_dual.c src/diagnostics/recover_components/recov_ver_0_pri.c src/diagnostics/recover_components/recov_ver_1_dual.c src/diagnostics/recover_components/recov_ver_1_pri.c)
add_definitions(-Wall)
target_link_libraries(game eccodes m netcdf geos95 time00 atmosrad atmostracers indextools)
install(TARGETS game DESTINATION core)
install(FILES ../run.sh DESTINATION core/..)
install(DIRECTORY DESTINATION output)
install(DIRECTORY ../test_generator/grib_files/ DESTINATION input)
install(DIRECTORY ../grid_generator/nc_files/ DESTINATION grids)
enable_testing()
